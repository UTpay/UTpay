{% extends 'base.html' %}

{% block title %}ログイン - UTpay{% endblock %}

{% block content %}
<div class="mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title">
    <h2 class="mdl-card__title-text">ログイン</h2>
  </div>
  <div class="mdl-card__supporting-text">
    <form method="post" action="{% url 'accounts:login' %}">
      {% csrf_token %}

      <!-- username -->
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input type="text" name="username" class="mdl-textfield__input" id="{{ form.username.id_for_label }}" maxlength="150" required autofocus>
        <label class="mdl-textfield__label" for="{{ form.username.id_for_label }}">{{ form.username.label }} or メールアドレス</label>
      </div>
      {% for error in form.username.errors %}
      <p class="form-error">{{ error }}</p>
      {% endfor %}
      {% if form.username.help_text %}
      <small style="color:grey">{{ form.username.help_text }}</small>
      {% endif %}

      <!-- password -->
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <input type="password" name="password" class="mdl-textfield__input" id="{{ form.password.id_for_label }}" required>
        <label class="mdl-textfield__label" for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
      </div>
      {% for error in form.password.errors %}
      <p class="form-error">{{ error }}</p>
      {% endfor %}
      {% if form.password.help_text %}
      <small style="color:grey">{{ form.password.help_text }}</small>
      {% endif %}

      <br><br>
      <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent">ログイン</button>
      <input type="hidden" name="next" value="{{ next }}" />
    </form>
  </div>
</div>
{% endblock %}
